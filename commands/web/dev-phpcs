#!/bin/bash

## #ddev-generated
## Description: Run PHPCS on custom modules and themes files (.php and .module files)
# Fail on errors
set -euo pipefail

# The files to check are passed as arguments to this script
FILES_TO_CHECK="$@"

if [ -z "$FILES_TO_CHECK" ]; then
  echo "‚ùå No files provided to check"
  exit 1
fi

echo "üîç Running PHPCS on files:"
echo "$FILES_TO_CHECK" | tr ' ' '\n'

# Run PHPCS with Drupal standards
phpcs -- -s --colors --standard=Drupal,DrupalPractice --extensions=php,module,inc,install,test,profile,theme,css,info,txt,md,yml --exclude=Drupal.Files.LineLength,Drupal.Files.TxtFileLineLength --report-full --report-summary $FILES_TO_CHECK