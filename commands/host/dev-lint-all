#!/bin/bash

## #ddev-generated
## Description: Run all linting tools on custom modules and themes files
set -uo pipefail

# Track if any linter failed
LINT_STATUS=0

echo "üîç Running all linting tools..."

# Run PHPCS on all PHP files
echo -e "\n‚û° Running PHP CodeSniffer..."
if ! ddev dev-phpcs --all; then
    LINT_STATUS=1
fi

# Run ESLint on all JS files
echo -e "\n‚û° Running ESLint..."
if ! ddev dev-eslint --all; then
    LINT_STATUS=1
fi

# Run Stylelint on all CSS files
echo -e "\n‚û° Running Stylelint..."
if ! ddev dev-stylelint --all; then
    LINT_STATUS=1
fi

# Run TwigCS on all Twig files
echo -e "\n‚û° Running TwigCS..."
if ! ddev dev-twigcs --all; then
    LINT_STATUS=1
fi

# Run CSpell on all files
echo -e "\n‚û° Running CSpell..."
if ! ddev dev-cspell --all; then
    LINT_STATUS=1
fi

# Report final status
if [ $LINT_STATUS -eq 1 ]; then
    echo -e "\n‚ùå Some linting checks failed"
else
    echo -e "\n‚úÖ All linting checks passed"
fi

exit $LINT_STATUS